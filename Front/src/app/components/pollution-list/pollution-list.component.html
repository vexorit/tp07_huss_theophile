<div class="filter">
  <input
    type="text"
    [(ngModel)]="filterText"
    (input)="filter()"
    placeholder="Filtrer par ville"
  />
</div>

<ul>
  <li *ngFor="let p of filtered">
    <div class="pollution-info">
      <strong>{{ p.city }}</strong>
      <span>Niveau : {{ p.level }}</span>
      <span>Date : {{ p.date }}</span>
    </div>
    <div class="actions">
      <button
        class="favorite-btn"
        [class.favorited]="isFavorite(p.id!)"
        (click)="toggleFavorite(p)"
        [title]="
          isFavorite(p.id!) ? 'Retirer des favoris' : 'Ajouter aux favoris'
        "
      >
        {{ isFavorite(p.id!) ? "‚ù§Ô∏è" : "ü§ç" }}
      </button>
      <a [routerLink]="['/pollutions', p.id]">D√©tail</a>
      <a [routerLink]="['/pollution-form']" [queryParams]="{ id: p.id }"
        >Modifier</a
      >
      <button class="delete" (click)="deletePollution(p.id!)">Supprimer</button>
    </div>
  </li>
</ul>
